<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
    <!--

        &lt;!&ndash; 自定义Realm &ndash;&gt;
        <bean id="myAuthorizingRealm" class="MyAuthorizingRealm"/>

        &lt;!&ndash; 安全管理器 &ndash;&gt;
        <bean id="securityManager" class="org.apache.shiro.web.mgt.DefaultWebSecurityManager">
            <property name="realm" ref="myAuthorizingRealm"/>
        </bean>

        &lt;!&ndash; Shiro过滤器 &ndash;&gt;
        <bean class="org.apache.shiro.spring.web.ShiroFilterFactoryBean" id="shiroFilter">

            &lt;!&ndash; Shiro的核心安全接口,这个属性是必须的 &ndash;&gt;
            <property name="securityManager" ref="securityManager"/>

            &lt;!&ndash; 身份认证失败，则跳转到登录页面的配置 &ndash;&gt;
            <property name="loginUrl" value="/login.jsp"/>

            &lt;!&ndash; 权限认证失败，则跳转到指定页面 &ndash;&gt;
            <property name="unauthorizedUrl" value="/nopower.jsp"/>

            &lt;!&ndash; Shiro连接约束配置,即过滤链的定义 &ndash;&gt;
            <property name="filterChainDefinitions">
                <value>
                    &lt;!&ndash;anon 表示匿名访问，不需要认证以及授权&ndash;&gt;
                    /blogger/login=anon

                    &lt;!&ndash;authc表示需要认证 没有进行身份认证是不能进行访问的&ndash;&gt;
                    /admin*=authc
                    /blogger/login/*=authc

                    &lt;!&ndash;/student=roles[teacher]&ndash;&gt;
                    &lt;!&ndash;/teacher=perms["user:create"]&ndash;&gt;

                </value>
            </property>
        </bean>

        &lt;!&ndash; 保证实现了Shiro内部lifecycle函数的bean执行 &ndash;&gt;
        <bean id="lifecycleBeanPostProcessor" class="org.apache.shiro.spring.LifecycleBeanPostProcessor"/>

        &lt;!&ndash; 开启Shiro注解 &ndash;&gt;
        <bean class="org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator"
              depends-on="lifecycleBeanPostProcessor"/>

        <bean class="org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor">
            <property name="securityManager" ref="securityManager"/>
        </bean>
    -->

</beans>